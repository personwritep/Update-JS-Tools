// ==UserScript==
// @name        Update JS-Tools ğŸ”²
// @namespace        http://tampermonkey.net/
// @version        0.1
// @description        ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ„ãƒ¼ãƒ«ä¸€è¦§è¡¨ã‹ã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ„ãƒ¼ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
// @author        Ameba Blog User
// @match        https://ameblo.jp/personwritep/entry-12762321136.html
// @match        https://ameblo.jp/personwritep/entry-12828652236.html
// @icon        https://www.google.com/s2/favicons?sz=64&domain=ameblo.jp
// @noframes
// @grant        none
// ==/UserScript==



let target=document.querySelector('head');
let monitor=new MutationObserver( main );
monitor.observe(target, {childList: true});


function main(){
    let all_td=document.querySelectorAll('td');
    for(let k=0; k<all_td.length; k++){
        if(all_td[k].textContent=="â™»"){
            all_td[k].style.cursor='pointer';
            all_td[k].onclick=function(){
                let link=all_td[k-1].querySelector('a');
                if(link){
                    let link_url=link.getAttribute('href');
                    let parts=link_url.split('/');
                    let tool_name=parts[parts.length-1];
                    let download_url=link_url +'/raw/main/'+ tool_name +'.user.js';
                    window.open(download_url, '_blank', );
                }
            }}}

} // main()




/*
// ä¸€è¦§è¡¨ã®GitHubã®ãƒªãƒ³ã‚¯ãŒé©æ­£ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

let text='';

setTimeout(()=>{

for(let k=0; k<all_td.length; k++){
    if(all_td[k].textContent=="â™»"){
        let pre_td=all_td[k].previousElementSibling;
        let link=pre_td.querySelector('a');
        if(link){
            let link_url=link.getAttribute('href');
            let parts=link_url.split('/');
            let tool_name=parts[parts.length-1];

           text+=tool_name+'|';
        }}}

alert(text); // ãƒªãƒ³ã‚¯ãŒä¸é©åˆ‡ãªå ´åˆã¯ãƒ„ãƒ¼ãƒ«åã«ã€Œmainã€ãŒæ··å…¥ã™ã‚‹

}, 1000);

*/


